(()=>{"use strict";var e={378:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});const l=n.p+"template.css"},832:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppTemplateHome=void 0;var l=n(804);t.AppTemplateHome=function(){return l.createElement("div",{className:"app-template-home-card"},l.createElement("div",{className:"card-content"},l.createElement("p",null,"This is template bundle home card."),l.createElement("p",null,"Application TMP-sub-template is an example of how to create sub-app module for UAC | TMP."),l.createElement("p",null," ")),l.createElement("div",{className:"card-bottom-line"},"Click ",l.createElement("a",{onClick:function(){window.TmpCore.bus.broadcast("system.navigate","/manual-template")}},"here")," to read the manual"))}},136:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppManual=void 0;var l=n(804),o=n(73),a=n(861),r=n(466);t.AppManual=function(){return l.createElement(l.Fragment,null,l.createElement(o.TcViewTitle,null,"Sub-app template: manual"),l.createElement(o.TcSmartLayout,{navigationMode:"scroll",layoutClassName:"template-manual"},l.createElement(a.TcNavAnchor,null,"Overview"),l.createElement("p",null,"What do you need to create new sub-application?"),l.createElement("p",null,"First, create new folder in the ",l.createElement("code",null,"subapps")," folder. Usual naming for sub-apps is ",l.createElement("code",null,"TMP-sub-%code%"),"."),l.createElement("p",null,l.createElement("i",null,"Code"),' of sub-application must be unique and JS-variable-naming-compatible. Suppose it is "my cool application" - code has to be',l.createElement("code",null,"my_cool_application"),", application folder named ",l.createElement("code",null,"TMP-sub-mycool-app"),"."),l.createElement(a.TcNavAnchor,null,"Setting up files"),l.createElement("p",null,"Then you need to copy the content of existing sub-application inside your brand new folder. Let's assume you're starting with ",l.createElement("code",null,"TMP-sub-template")," because it is designed for this goal."),l.createElement("p",null,"So do copy content of ",l.createElement("code",null,"TMP-sub-template")," into ",l.createElement("code",null,"TMP-sub-mycool-app")," folder."),l.createElement("p",null,"Remove any ",l.createElement("code",null,".idea")," and ",l.createElement("code",null,".git")," folders (especially the last one)."),l.createElement("p",null,"Remove ",l.createElement("code",null,"dist")," folder, if any."),l.createElement("p",null,"Remove source code you don't need: ",l.createElement("code",null,"src/app/home")," if you don't need Home Card, ",l.createElement("code",null,"src/app/manual")," (this text)."),l.createElement(a.TcNavAnchor,null,"Setting up application"),l.createElement("p",null,"In the ",l.createElement("code",null,"build/app-config.js")," replace the application code:"),l.createElement(r.SyntaxHighlight,{content:"module.exports = {\n\tappName: 'template', // <- my_cool_app\n};\n"}),l.createElement("p",null,"In file ",l.createElement("code",null,"src/@index.tsx")," remove unnecessary views registrations:"),l.createElement(r.SyntaxHighlight,{content:"// register target subapp/view\nSubApplication.registerSimpleView('template/example', <AppTemplate/>);\n\n// register target subapp/view - documentation page\nSubApplication.registerSimpleView('template/manual', <AppManual/>);\n\n// register view which will be automatically placed to home page\nSubApplication.registerSimpleView('template/home', <AppTemplateHome/>);\n"}),l.createElement("p",null,"Replace view(s) id:"),l.createElement(r.SyntaxHighlight,{content:"// register target subapp/view\nSubApplication.registerSimpleView('my_cool_app/my_cool_page', <AppTemplate/>);\n"}),l.createElement("p",null,"Remove imports of unnecessary stylesheets from ",l.createElement("code",null,"src/index.less"),"."),l.createElement(r.SyntaxHighlight,{content:'@import "app/home/home.less"; // remove unused\n@import "app/template/template.less";\n@import "app/manual/manual.less";\n',language:"less"}),l.createElement(a.TcNavAnchor,null,"Setting up package.json"),l.createElement("p",null,"In ",l.createElement("code",null,"package.json")," edit build info:"),l.createElement(r.SyntaxHighlight,{content:'{\n\t"name": "tmp-sub-app-template", // <- tmp-sub-my-cool-app\n\t"version": "1.0.0",\n\t"description": "UAC PoC - subapp template",\n\t"repository": {\n\t\t"type": "git",\n\t\t"url": "https://github.com/lexey111/TMP-sub-template"\n\t},\n\t"keywords": [\n\t\t"uac",\n\t\t"tmp",\n\t\t"app template"\n\t],\n\t"author": "lexey111",\n}'}),l.createElement(a.TcNavAnchor,null,"Setting up build environment"),l.createElement("p",null,"In the ",l.createElement("code",null,"docker-compose*.yml")," files edit container code:"),l.createElement(r.SyntaxHighlight,{content:"version: '3'\nservices:\n  tmp-sub-template: // <- tmp-sub-my-cool-app\n    working_dir: /app\n"}),l.createElement("p",null,"In the ",l.createElement("code",null,"docker_build.cmd")," file tune names of build parts as well (replace ",l.createElement("code",null,"template")," with ",l.createElement("code",null,"my_cool_app"),"):"),l.createElement(r.SyntaxHighlight,{language:"shell",content:"#!/bin/bash\ndocker build -f Dockerfile.prod -t template .\ndocker run --name temp template\ndocker cp temp:/app/dist ./dist\ndocker rm temp\ndocker image rm template\n"}),l.createElement("p",null,"Update ",l.createElement("code",null,"README.md")," file according to changes."),l.createElement("p",null,"Set up correct port for online mode in the ",l.createElement("code",null,"build/webpack.config.js")," file:"),l.createElement(r.SyntaxHighlight,{content:"devServer: {\n\theaders: {\n\t\t'Access-Control-Allow-Origin': '*',\n\t\t'Access-Control-Expose-Headers': 'Content-Length'\n\t},\n\tcontentBase: path.resolve('./dist'),\n\thistoryApiFallback: true,\n\tcompress: false,\n\tport: 3034, // <- here\n},\n"}),l.createElement("p",null,"And do the same for ",l.createElement("code",null,"docker-compose.start.yml")," and ",l.createElement("code",null,"docker-compose.watch.yml")," files:"),l.createElement(r.SyntaxHighlight,{content:"version: '3'\nservices:\n  tmp-sub-template:\n    working_dir: /app\n    build: .\n    command: npm run start\n    volumes:\n      - ./:/app\n      - /app/node_modules\n    tty: true\n    ports:\n      - 3034:3034 // <- here\n    stdin_open: true\n    environment:\n      - CHOKIDAR_USEPOLLING=true"}),l.createElement(a.TcNavAnchor,null,"Registering"),l.createElement("p",null,"You need to register your application in the Host application and/or in the Composer."),l.createElement("p",null,"In the ",l.createElement("code",null,"TMP-host/config/subapps.config.js")," file add your section:"),l.createElement(r.SyntaxHighlight,{content:"{\n\t// ...\n\texample_vue: {\n\t\tname: 'Vue JS',\n\t\tdist: 'TMP-sub-vue/dist',\n\t\thomeCard: true,\n\t\tentry: 'example_vue.js',\n\t\tstyles: 'example_vue.css'\n\t},\n\tmy_cool_app: { // <- here\n\t\tname: 'My cool application',\n\t\tonline: true,\n\t\thomeCard: true, // if you provide it\n\t\t// also can be an array of names like ['home', 'second_card']\n\t\tentry: 'http://localhost:3031/my_cool_app.js', // <- set up the port!\n\t\tstyles: 'http://localhost:3031/my_cool_app.css',\n\t\troutes: [{ // <-- if you need an icon in sidebar\n\t\t\tpath: 'mycoolapp', // url: ...site.com/mycoolapp\n\t\t\tview: 'my_cool_app/my_cool_page', // bundleName/viewName\n\t\t\tspineIcon: 'Star',\n\t\t\tspineTitle: 'Cool page'\n\t\t}]\n\t}\n}"}),l.createElement("p",null,"Or for offline configuration —"),l.createElement(r.SyntaxHighlight,{content:"{\n\t// ...\n\texample_vue: {\n\t\tname: 'Vue JS',\n\t\tdist: 'TMP-sub-vue/dist',\n\t\thomeCard: true,\n\t\tentry: 'example_vue.js',\n\t\tstyles: 'example_vue.css'\n\t},\n\tmy_cool_app: { // <- here\n\t\tname: 'My cool application',\n\t\tdist: 'TMP-sub-mycool-app/dist',\n\t\thomeCard: true, // if you provide it\n\t\tentry: 'my_cool_app.js',\n\t\tstyles: 'my_cool_app.css',\n\t\troutes: [{ // <-- if you need an icon in sidebar\n\t\t\tpath: 'mycoolapp', // url: ...site.com/mycoolapp\n\t\t\tview: 'my_cool_app/my_cool_page', // bundleName/viewName\n\t\t\tspineIcon: 'Star',\n\t\t\tspineTitle: 'Cool page'\n\t\t}]\n\t}\n}"}),l.createElement("p",null,"For Composer register your application in the ",l.createElement("code",null,"TMP-composer/config/subapps.config.js"),":"),l.createElement(r.SyntaxHighlight,{content:"{\n\t// ...\n\texample_vue: {\n\t\tname: 'Vue JS',\n\t\tdist: 'TMP-sub-vue/dist',\n\t\thomeCard: true,\n\t\tentry: 'example_vue.js',\n\t\tstyles: 'example_vue.css'\n\t},\n\tmy_cool_app: { // <- here\n\t\tname: 'My cool application',\n\t\tdist: 'TMP-sub-mycool-app/dist',\n\t\thomeCard: true, // if you provide it\n\t\t// also can be an array of names like ['home', 'second_card']\n\t\tentry: 'my_cool_app.js',\n\t\tstyles: 'my_cool_app.css',\n\t\troutes: [{ // <-- if you need an icon in sidebar\n\t\t\tpath: 'mycoolapp', // url: ...site.com/mycoolapp\n\t\t\tview: 'my_cool_app/my_cool_page', // bundleName/viewName\n\t\t\tspineIcon: 'Star',\n\t\t\tspineTitle: 'Cool page'\n\t\t}]\n\t}\n}"}),l.createElement("p",null,"Yes, it's the same as for offline mode."),l.createElement(a.TcNavAnchor,null,"Finalize"),l.createElement("p",null,"Run ",l.createElement("code",null,"npm install")," to update ",l.createElement("code",null,"package-lock.json"),"."),l.createElement("p",null,"Run ",l.createElement("code",null,"npm run build")," to pre-build ",l.createElement("code",null,"dist")," folder."),l.createElement("p",null,"Build and run Host application (",l.createElement("code",null,"TMP-host/npm run start"),") and/or Composer (",l.createElement("code",null,"TMP-composer/npm run start"),"). Open browser page at",l.createElement("code",null,"localhost:3030")," and try to navigate your application."),l.createElement("p",null,"Register GitHub repository and push the files."),l.createElement("p",null,"Try to run all the Docker modes (see README.md): build Docker image, run ",l.createElement("code",null,"docker-compose-*")," commands, check ",l.createElement("code",null,"docker-compose.yml")," build script. Everything should work.")))}},16:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppTemplate=void 0;var l=n(804);t.AppTemplate=function(){return l.createElement("div",{id:"sub-app-template"},l.createElement("h1",null,"Hello! This is AppTemplate."))}},867:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TmpSubApplication=void 0;var l=n(196),o=function(){function e(){this.unmount=function(e){if(e){var t=document.getElementById(e);if(!t)throw new Error("Mount point #"+e+" not found on unmount!");window.IEVersion?console.log("Unmount from #"+e):console.log("%c%s","color: orange","Unmount from #"+e),l.unmountComponentAtNode(t)}}}return e.prototype.registerView=function(e,t){window.TmpCore.TmpManager.registerApplicationView(e,t,this.unmount)},e.prototype.registerSimpleView=function(e,t){window.TmpCore.TmpManager.registerApplicationView(e,(function(e){l.render(t,e)}),this.unmount)},e}();t.TmpSubApplication=o},804:e=>{e.exports=React},196:e=>{e.exports=ReactDOM},73:e=>{e.exports=TMPUILibrary.layout},861:e=>{e.exports=TMPUILibrary.navigation},466:e=>{e.exports=TMPUILibrary.ui_elements}},t={};function n(l){if(t[l])return t[l].exports;var o=t[l]={exports:{}};return e[l](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";(()=>{var e=n(804),t=n(867),l=n(832),o=n(136),a=n(16);n(378);var r=new t.TmpSubApplication;r.registerSimpleView("template/example",e.createElement(a.AppTemplate,null)),r.registerSimpleView("template/manual",e.createElement(o.AppManual,null)),r.registerSimpleView("template/home",e.createElement(l.AppTemplateHome,null))})()})();